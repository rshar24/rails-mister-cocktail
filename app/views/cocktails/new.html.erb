<div class="container">
  <h1>New Cocktail</h1>
  <%= simple_form_for (@cocktail) do |f| %>
    <div class="form-inputs">
      <%= f.input :name %>
      <%= f.input :photo %>
      <%= f.input :photo_cache, as: :hidden %>
      <p class="mt-4">Ingredients</p>
      <div class="my-3">
        <%= render "dose_form" %>
      </div>
      <a href="#" class="add-ingr">+ Add another ingredient</a>
    </div>
    <div class="form-actions">
      <%= f.button :submit, class: "btn btn-primary mt-4" %>
    </div>
  <% end %>
</div>

<script>
  let newIng = document.querySelector(".add-ingr")
  newIng.addEventListener("click", (e) => {
    e.preventDefault();
    newIng.insertAdjacentHTML(
      "beforebegin",
      "<%= j render 'dose_form' %>"
      )
  });
</script>
